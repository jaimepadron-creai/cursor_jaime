---
title: "MÃ³dulo 2: ConfiguraciÃ³n de Proyecto y Workspace"
description: Estructura profesional de la carpeta .cursor/, reglas jerÃ¡rquicas, notepads, memories, selecciÃ³n de modelos y configuraciÃ³n de workspaces (monorepos, Docker y microservicios).
---

import { Card, CardGrid } from '@astrojs/starlight/components';

## Objetivos de Aprendizaje

Al finalizar este mÃ³dulo, serÃ¡s capaz de:

1. **Estructurar** la carpeta `.cursor/` con subdirectorios optimizados para proyectos profesionales.
2. **Implementar** sistemas de Rules jerÃ¡rquicos (Project, User, Auto-Attach) con precedencia correcta.
3. **Crear** Notepads organizados que sirvan como base de conocimiento para equipos.
4. **Gestionar** Memories para documentar decisiones arquitectÃ³nicas y evoluciÃ³n del proyecto.
5. **Optimizar** la selecciÃ³n de modelos y uso de Max Mode para mÃ¡xima eficiencia.
6. **Configurar** workspaces avanzados para monorepos, Docker y microservicios.

## ğŸ“¹ Videos del MÃ³dulo

### ğŸ¯ Video Principal: ConfiguraciÃ³n y Workspace

Aprende a configurar tu workspace Ã³ptimo y establecer la estructura de proyecto perfecta.

<iframe
  width="100%"
  height="400"
  src="https://www.youtube.com/embed/5zR1ZE5aqho"
  title="ConfiguraciÃ³n y Workspace en Cursor AI"
  frameborder="0"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
  allowfullscreen
  style="border-radius: 8px; margin: 1rem 0;">
</iframe>

### ğŸ› ï¸ Video Complementario: Setup Avanzado

Configuraciones avanzadas y personalizaciÃ³n de tu entorno de desarrollo.

<iframe
  width="100%"
  height="400"
  src="https://www.youtube.com/embed/gqUQbjsYZLQ"
  title="Setup Avanzado de Cursor AI"
  frameborder="0"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
  allowfullscreen
  style="border-radius: 8px; margin: 1rem 0;">
</iframe>

## IntroducciÃ³n Conceptual

La configuraciÃ³n de proyecto en Cursor AI es donde se define la **"inteligencia" del asistente de IA**. Una carpeta `.cursor/` bien estructurada transforma Cursor AI de una herramienta de autocompletado en un **compaÃ±ero de desarrollo** que comprende profundamente tu proyecto, mantiene consistencia automÃ¡tica y preserva el conocimiento del equipo.

Esta configuraciÃ³n es especialmente crÃ­tica para equipos profesionales donde la consistencia, las convenciones establecidas y la memoria organizacional determinan la calidad y velocidad de desarrollo. Un workspace bien configurado puede reducir el tiempo de onboarding de nuevos desarrolladores de **semanas a dÃ­as**.

## PreparaciÃ³n del Proyecto

### CreaciÃ³n de Carpeta `.cursor/` y Subdirectorios

**Estructura Ã“ptima Recomendada**

```txt
proyecto/
â”œâ”€â”€ .cursor/
â”‚   â”œâ”€â”€ rules/
â”‚   â”‚   â”œâ”€â”€ global.mdc              # Reglas aplicables a todo el proyecto
â”‚   â”‚   â”œâ”€â”€ frontend.mdc            # Reglas especÃ­ficas para frontend
â”‚   â”‚   â”œâ”€â”€ backend.mdc             # Reglas especÃ­ficas para backend
â”‚   â”‚   â”œâ”€â”€ testing.mdc             # Reglas para testing y QA
â”‚   â”‚   â””â”€â”€ patterns/
â”‚   â”‚       â”œâ”€â”€ react-components.mdc
â”‚   â”‚       â”œâ”€â”€ api-design.mdc
â”‚   â”‚       â””â”€â”€ database-patterns.mdc
â”‚   â”œâ”€â”€ notepads/
â”‚   â”‚   â”œâ”€â”€ ui-ux/
â”‚   â”‚   â”‚   â”œâ”€â”€ design-system.md
â”‚   â”‚   â”‚   â”œâ”€â”€ accessibility.md
â”‚   â”‚   â”‚   â””â”€â”€ component-library.md
â”‚   â”‚   â”œâ”€â”€ backend/
â”‚   â”‚   â”‚   â”œâ”€â”€ api-standards.md
â”‚   â”‚   â”‚   â”œâ”€â”€ database-conventions.md
â”‚   â”‚   â”‚   â””â”€â”€ security-guidelines.md
â”‚   â”‚   â””â”€â”€ shared/
â”‚   â”‚       â”œâ”€â”€ coding-standards.md
â”‚   â”‚       â”œâ”€â”€ git-workflow.md
â”‚   â”‚       â””â”€â”€ deployment-guide.md
â”‚   â”œâ”€â”€ memories/
â”‚   â”‚   â”œâ”€â”€ architectural-decisions/
â”‚   â”‚   â”œâ”€â”€ technology-choices/
â”‚   â”‚   â””â”€â”€ lessons-learned/
â”‚   â””â”€â”€ config/
â”‚       â”œâ”€â”€ models.json
â”‚       â”œâ”€â”€ context-settings.json
â”‚       â””â”€â”€ workspace.json
```

**Script de InicializaciÃ³n**

```bash
#!/bin/bash
# setup-cursor-project.sh

echo "ğŸš€ Configurando estructura de proyecto Cursor AI..."

# Crear estructura de directorios
mkdir -p .cursor/{rules/{patterns},notepads/{ui-ux,backend,shared},memories/{architectural-decisions,technology-choices,lessons-learned},config}

# Crear archivos base
touch .cursor/rules/{global.mdc,frontend.mdc,backend.mdc,testing.mdc}
touch .cursor/rules/patterns/{react-components.mdc,api-design.mdc,database-patterns.mdc}
touch .cursor/notepads/ui-ux/{design-system.md,accessibility.md,component-library.md}
touch .cursor/notepads/backend/{api-standards.md,database-conventions.md,security-guidelines.md}
touch .cursor/notepads/shared/{coding-standards.md,git-workflow.md,deployment-guide.md}
touch .cursor/config/{models.json,context-settings.json,workspace.json}

echo "âœ… Estructura creada exitosamente"
echo "ğŸ“ PrÃ³ximo paso: Configurar Rules y Notepads segÃºn tu proyecto"
```

## Rules del Proyecto: JerarquÃ­a y Tipos


### Migration Guidelines

Reglas con la cabecera

```markdown
**TRIGGER:** `**/*.{tsx,jsx}` AND contains "React.FC" OR contains "useState"
```

No son compatibles con las versiones actuales del editor y pueden ser no reconocidas por el editor.

Este tipo de regla era funcional en versiones anteriores de Cursor IDE, especialmente cuando se usaban archivos .md o .cursorrules con anotaciones como
```markdown
<!-- ActivaciÃ³n automÃ¡tica -->
```
y
```markdown
**TRIGGER:**
```
Sin embargo, ya no es el formato recomendado ni completamente compatible con las versiones actuales del editor.


Usar el formato de regla actual para crear reglas en el archivo `.mdc`.

```markdown
---
globs: **/*.tsx, **/*.jsx
alwaysApply: false
---
```

Asegura que la regla es reconocida por el editor.

![image.png](/src/assets/img/rules-settings.png)


Cuando tu describes una regla el editor te pedirÃ¡ como se debe aplicar la regla.

![image.png](/src/assets/img/rule-setting.png)

### 1) Project Rules (Reglas de Proyecto)

**Archivo:** `.cursor/rules/global.mdc`

```markdown
---
alwaysApply: true
---

# Reglas Globales del Proyecto

## Convenciones de Nomenclatura
- **Variables y funciones**: camelCase
- **Componentes React**: PascalCase
- **Archivos**: kebab-case
- **Constantes**: UPPER_SNAKE_CASE
- **Base de datos**: snake_case

## Estructura de Archivos
- Un componente por archivo
- Colocar tests junto al componente: `Button.tsx` + `Button.test.tsx`
- Usar exports named en lugar de default cuando sea posible
- Organizar imports: externos â†’ internos â†’ relativos

## Patrones Obligatorios
- Usar TypeScript estricto
- Implementar error boundaries en componentes de pÃ¡gina
- Validar todas las props con interfaces/types
- Incluir JSDoc para funciones pÃºblicas

## TecnologÃ­as del Stack
- Frontend: React 18 + TypeScript + TailwindCSS
- Backend: FastAPI + SQLAlchemy + PostgreSQL
- Testing: Jest + React Testing Library + Playwright
- DevOps: Docker + GitHub Actions
```
### 2) User Rules (Reglas Personales)

**Archivo:** `.cursor/rules/frontend.mdc`

```markdown
---
globs: **/src/**/*.tsx, **/src/**/*.ts, **/components/**/*
alwaysApply: false
---

# Reglas Frontend

## Convenciones React
- Usar functional components con hooks
- Implementar PropTypes o TypeScript interfaces
- Preferir composiciÃ³n sobre herencia
- Usar React.memo para optimizaciÃ³n cuando sea necesario

## Styling
- Usar TailwindCSS como framework principal
- Crear componentes reutilizables en `/components/ui/`
- Implementar dark mode con CSS variables
```

Para configuraciÃ³n personal de reglas, consulta [User Rules Documentation](https://cursor.com/docs/context/rules).

### 3) Auto-Attach Rules (Reglas Auto-Adjuntas)

**Archivo:** `.cursor/rules/patterns/react-components.mdc`

```md
---
globs: **/*.tsx, **/*.jsx
alwaysApply: false
---

# Reglas para Componentes React

## Template de Componente EstÃ¡ndar

- Aplica esta regla solo si el archivo contiene `React.FC` o `useState`.

```typescript
import React, { useState, useCallback, useMemo } from 'react';
import { cn } from '@/lib/utils';

// 1. Interface de Props (exportada)
export interface ComponentNameProps {
  // Props obligatorias primero
  title: string;
  // Props opcionales despuÃ©s
  variant?: 'primary' | 'secondary';
  className?: string;
  children?: React.ReactNode;
}

// 2. Componente principal
const ComponentName: React.FC<ComponentNameProps> = ({
  title,
  variant = 'primary',
  className,
  children
}) => {
  // 3. State hooks primero
  const [isActive, setIsActive] = useState(false);

  // 4. Computed values con useMemo
  const computedClass = useMemo(() => cn(
    'base-class',
    `variant-${variant}`,
    className
  ), [variant, className]);

  // 5. Event handlers con useCallback
  const handleClick = useCallback(() => {
    setIsActive(prev => !prev);
  }, []);

  // 6. Render
  return (
    <div className={computedClass} onClick={handleClick}>
      <h2>{title}</h2>
      {children}
    </div>
  );
};

export default ComponentName;
```

### Patrones EspecÃ­ficos
- Usar `useCallback` para event handlers pasados como props
- Implementar **loading** y **error states**
- Incluir ARIA labels para accesibilidad
- Usar `React.memo` para componentes con props complejas

### 4) Reglas de Testing

**Archivo:** `.cursor/rules/testing.mdc`

```markdown
---
globs: **/*.test.{ts,js,tsx,jsx}, **/*.spec.{ts,js,tsx,jsx}, **/__tests__/**/*, **/tests/**/*
alwaysApply: false
---

# Reglas de Testing

## Convenciones de Testing
- Usar describe/it para estructura de tests
- Implementar AAA pattern (Arrange, Act, Assert)
- Mockear dependencias externas
- Escribir tests descriptivos con nombres claros

## Cobertura MÃ­nima
- 80% para componentes crÃ­ticos
- 90% para utilidades y helpers
- 100% para funciones de validaciÃ³n
```

#### JerarquÃ­a de Precedencia

```ts
// Orden de aplicaciÃ³n (mayor nÃºmero = mayor prioridad)
const rulePrecedence = {
  auto_attach_rules: 100,    // Contexto especÃ­fico
  user_rules: 90,            // Preferencias personales
  project_rules: 70,         // EstÃ¡ndares del proyecto
  global_defaults: 10        // Valores por defecto
};
```

## Notepads: Plantillas y Convenciones de Equipo

### 1) UI/UX Guidelines

**Archivo:** `.cursor/notepads/ui-ux/design-system.md`

```markdown
# Design System - GuÃ­a de Referencia

## Tokens de Color
```css
:root {
  /* Primary Colors */
  --color-primary-50: #eff6ff;
  --color-primary-500: #3b82f6;
  --color-primary-900: #1e3a8a;

  /* Semantic Colors */
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
}
```

**Componentes Base â€” Button System**

```ts
const buttonVariants = {
  primary: 'bg-blue-600 text-white hover:bg-blue-700',
  secondary: 'bg-gray-200 text-gray-900 hover:bg-gray-300',
  outline: 'border border-gray-300 text-gray-700 hover:bg-gray-50'
};

const buttonSizes = {
  sm: 'px-3 py-1.5 text-sm',
  md: 'px-4 py-2 text-base',
  lg: 'px-6 py-3 text-lg'
};
```

**Spacing System**
xs: 4px | sm: 8px | md: 16px | lg: 24px | xl: 32px

**Typography Scale**
text-sm: 14px | text-base: 16px | text-lg: 18px | text-xl: 20px
```

### 2) Backend Standards

**Archivo:** `.cursor/notepads/backend/api-standards.md`

```markdown
# API Design Standards

## RESTful Conventions

### URL Structure
GET /api/v1/users          # Obtener todos los usuarios
GET /api/v1/users/{id}     # Obtener usuario especÃ­fico
POST /api/v1/users         # Crear nuevo usuario
PUT /api/v1/users/{id}     # Actualizar usuario completo
PATCH /api/v1/users/{id}   # ActualizaciÃ³n parcial
DELETE /api/v1/users/{id}  # Eliminar usuario

### Response Format Standard
```python
# Respuesta exitosa
{
  "success": true,
  "data": {...},
  "meta": {
    "pagination": {...},
    "total": 100
  }
}

# Respuesta de error
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Datos invÃ¡lidos",
    "details": {...}
  }
}
```
**Status Codes**
- 200: GET, PUT, PATCH exitosos
- 201: POST exitoso
- 204: DELETE exitoso
- 400: Bad Request
- 401: No autenticado
- 403: Sin permisos
- 404: No encontrado
- 422: Error de validaciÃ³n
```

### Memories para Decisiones HistÃ³ricas

#### Architectural Decision Records (ADRs)

**Archivo:** `.cursor/memories/architectural-decisions/001-state-management.md`

```markdown
# ADR-001: SelecciÃ³n de Zustand para State Management

## Status
**Aceptado** â€” 2024-11-15

## Contexto
Necesitamos una soluciÃ³n de gestiÃ³n de estado que:
- Maneje estado global complejo
- Tenga excelente soporte TypeScript
- Sea performante con re-renders mÃ­nimos
- Ofrezca buena developer experience

## DecisiÃ³n
Adoptar **Zustand** como soluciÃ³n principal de state management.

## JustificaciÃ³n

### Pros de Zustand
- API minimalista y simple
- TypeScript support nativo
- No requiere providers/context wrapping
- Bundle size pequeÃ±o (2.9kb)
- SubscripciÃ³n granular al estado

### Alternativas Evaluadas
- **Redux Toolkit**: Demasiado boilerplate, curva de aprendizaje empinada
- **Recoil**: Experimental, documentaciÃ³n limitada
- **Context API**: Performance issues con estado complejo

## Consecuencias

### Positivas
- Desarrollo mÃ¡s rÃ¡pido
- Mejor TypeScript experience
- Bundle size optimizado
- Testing mÃ¡s simple

### Negativas
- Ecosistema menor vs Redux
- Algunas funcionalidades avanzadas requieren implementaciÃ³n custom

## ImplementaciÃ³n
```typescript
// stores/authStore.ts
import { create } from 'zustand';

interface AuthState {
  user: User | null;
  isAuthenticated: boolean;
  login: (credentials: LoginCredentials) => Promise<void>;
  logout: () => void;
}

export const useAuthStore = create<AuthState>((set) => ({
  user: null,
  isAuthenticated: false,

  login: async (credentials) => {
    const user = await authService.login(credentials);
    set({ user, isAuthenticated: true });
  },

  logout: () => {
    set({ user: null, isAuthenticated: false });
  }
}));
```

**Fecha de RevisiÃ³n**
2025-05-15 â€” Evaluar despuÃ©s de 6 meses de uso
```

## GestiÃ³n de Modelos y Contexto

### SelecciÃ³n de Modelos (GPT-4.1, Claude, Gemini)

Para configuraciÃ³n detallada de modelos, consulta [Model Selection Guide](https://docs.cursor.com/models) en la documentaciÃ³n de Cursor.

#### ConfiguraciÃ³n AutomÃ¡tica vs Manual

**Archivo:** `.cursor/config/models.json`

```json
{
  "model_selection": {
    "mode": "automatic",
    "fallback_model": "gpt-4o",
    "routing_rules": {
      "file_patterns": {
        "**/*.test.{ts,js}": "gemini",
        "**/*.spec.{ts,js}": "gemini",
        "**/docs/**/*.md": "claude",
        "**/README.md": "claude",
        "**/architecture/**": "gpt-4.1"
      },
      "task_patterns": {
        "explain": "claude",
        "document": "claude",
        "test": "gemini",
        "refactor": "gpt-4.1",
        "optimize": "gpt-4.1",
        "debug": "auto"
      }
    }
  }
}
```

### CaracterÃ­sticas por Modelo

| Modelo | Fortalezas | Casos de Uso Ã“ptimos |
|---------|------------|---------------------|
| **GPT-4.1** | Razonamiento complejo, arquitectura | Refactoring, diseÃ±o de sistemas |
| **Claude** | AnÃ¡lisis detallado, explicaciones | DocumentaciÃ³n, code reviews |
| **Gemini** | Testing, cÃ³digo estructurado | GeneraciÃ³n de tests, APIs |

### Max Mode para Monorepos

Max Mode permite analizar proyectos completos con **contexto extremo**.

**Archivo:** `.cursor/config/max-mode.json`

```json
{
  "max_mode": {
    "enabled": true,
    "usage_strategy": "strategic",
    "activation_triggers": {
      "manual_only": true,
      "keywords": ["refactor entire", "analyze codebase", "migrate to", "generate documentation"]
    },
    "scope_limits": {
      "max_files": 500,
      "exclude_patterns": ["node_modules/**", "dist/**", "*.min.js", "coverage/**"]
    },
    "cost_controls": {
      "max_monthly_usage": 10,
      "require_confirmation": true
    }
  }
}
```

## Referencias Contextuales

### @Files: SelecciÃ³n Inteligente

```ts
// Estrategias de uso por escenario
const fileSelectionStrategies = {
  // Desarrollo de componente
  component_development: [
    "@Files: src/components/ui/",      // Componentes base
    "@Files: src/hooks/",              // Custom hooks
    "@Files: src/types/",              // Definiciones de tipos
  ],

  // Debugging especÃ­fico
  bug_debugging: [
    "@Files: src/pages/problem-page.tsx",  // Archivo con bug
    "@Files: src/hooks/useDataFetch.ts",   // Hook relacionado
    "@Files: src/api/service.ts"           // Servicio de datos
  ]
};
```

### @Docs: IntegraciÃ³n con DocumentaciÃ³n

```md
Create a payment component following our design system.

@Files: src/components/ui/Button.tsx, src/components/ui/Input.tsx
@Docs: ./docs/design-system.md, ./docs/payment-guidelines.md
@Web: Stripe Elements React documentation

**Requirements:**
- Follow design system patterns
- Include proper validation
- Handle loading/error states
```

### @Web: BÃºsqueda en Tiempo Real

Ãštil para investigaciÃ³n de tecnologÃ­as actuales y resoluciÃ³n de errores especÃ­ficos.

### @Recommended: Sugerencias AutomÃ¡ticas

Cursor AI sugiere automÃ¡ticamente contexto relevante basado en: dependencias del archivo actual, historial reciente y similitud de contenido.

## OptimizaciÃ³n de Tokens y Costos

**Archivo:** `.cursor/config/context-settings.json`

```json
{
  "context_optimization": {
    "compression_enabled": true,
    "max_context_files": 20,
    "smart_exclusions": true,
    "cost_controls": {
      "daily_token_limit": 50000,
      "alert_thresholds": [0.7, 0.9],
      "auto_downgrade_model": true
    },
    "caching": {
      "enabled": true,
      "context_ttl": "1h",
      "response_ttl": "24h"
    }
  }
}
```

### TÃ©cnicas de OptimizaciÃ³n

- âœ… **.cursorignore**: Excluir archivos que no aportan contexto
- âœ… **Contexto incremental**: Empezar con lo mÃ­nimo y expandir si es necesario
- âœ… **CachÃ© inteligente**: Reutilizar anÃ¡lisis de archivos frecuentes
- âœ… **CompresiÃ³n contextual**: Resumir archivos grandes manteniendo lo clave

## Workspace Avanzado

### Configuraciones Multi-Proyecto en Monorepos

**Archivo:** `.cursor/config/workspace.json`

```json
{
  "workspace_type": "monorepo",
  "package_manager": "pnpm",
  "apps": {
    "web": {
      "type": "react_app",
      "path": "apps/web",
      "rules": [".cursor/rules/frontend.md"],
      "context_scope": "app_focused"
    },
    "api": {
      "type": "fastapi_app",
      "path": "apps/api",
      "rules": [".cursor/rules/backend.md"],
      "context_scope": "app_focused"
    }
  },
  "packages": {
    "shared-types": "packages/shared-types",
    "ui-components": "packages/ui-components"
  }
}
```

### IntegraciÃ³n con Docker y Contenedores

**Archivo:** `.cursor/config/docker.json`

```json
{
  "docker_integration": {
    "enabled": true,
    "auto_detect_containers": true,
    "development_containers": [
      {
        "name": "web-dev",
        "dockerfile": "Dockerfile.dev",
        "context_mount": true
      }
    ]
  }
}
```

### ConfiguraciÃ³n de Calidad de CÃ³digo

**Archivo:** `.cursor/config/quality-tools.json`

```json
{
  "code_quality": {
    "linting": {
      "eslint": {
        "enabled": true,
        "auto_fix": true,
        "config": ".eslintrc.js"
      }
    },
    "formatting": {
      "prettier": {
        "enabled": true,
        "config": ".prettierrc"
      }
    },
    "pre_commit": {
      "enabled": true,
      "hooks": ["lint", "format", "test"]
    }
  }
}
```

:::tip[ConfiguraciÃ³n Avanzada]
Para configuraciones avanzadas de linters y formatters, consulta [Code Quality Guide](https://docs.cursor.com/quality).
:::

## Setup para Microservicios

Para arquitecturas de microservicios, utiliza un **service discovery** simple mapeado al workspace.

**Archivo:** `.cursor/config/services.json`

```json
{
  "microservices": {
    "discovery": "workspace_mapping",
    "services": {
      "user_service": {
        "path": "services/user-service",
        "language": "python",
        "dependencies": ["auth-service"]
      },
      "auth_service": {
        "path": "services/auth-service",
        "language": "typescript",
        "dependencies": []
      }
    }
  }
}
```

## Troubleshooting de ConfiguraciÃ³n ComÃºn

### Problemas Frecuentes y Soluciones

#### Reglas no se aplican automÃ¡ticamente
```bash
# Verificar sintaxis de reglas
cursor --validate-rules .cursor/rules/
```

#### Max Mode no funciona correctamente
1. Verificar lÃ­mites de uso en configuraciÃ³n
2. Confirmar que el proyecto no excede lÃ­mites de archivos
3. Revisar patrones de exclusiÃ³n en `.cursorignore`

#### Contexto insuficiente en respuestas
```bash
# Verificar archivos incluidos en contexto
cursor --show-context
```

:::tip[MÃ¡s Ayuda]
Para mÃ¡s problemas de configuraciÃ³n, consulta [Configuration Troubleshooting](https://docs.cursor.com/troubleshooting/config).
:::

## PrÃ³ximo Paso

Â¡Has completado el MÃ³dulo 2! Ahora tienes un workspace de Cursor AI completamente configurado con reglas inteligentes, notepads organizados y gestiÃ³n optimizada de contexto. En el [MÃ³dulo 3](/modulo-3/), aprenderÃ¡s tÃ©cnicas avanzadas de prompting operativo para maximizar la productividad en tareas de desarrollo reales.
